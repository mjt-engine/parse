{"version":3,"file":"detectStopAfter.js","sourceRoot":"","sources":["../src/detectStopAfter.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAE9C,MAAM,CAAC,MAAM,eAAe,GAAG,CAC7B,IAAwB,EACxB,oBAAuC,EAAE,EACV,EAAE;IACjC,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC5B,CAAC;IACD,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC;QAC3C,CAAC,CAAC,iBAAiB;QACnB,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC;IACxB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACtB,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvB,CAAC;IACD,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC5C,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,SAAS,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACnE,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAChC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAChC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IACrC,CAAC;IACD,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AACvB,CAAC,CAAC","sourcesContent":["import { escapeRegExp } from \"./escapeRegExp\";\n\nexport const detectStopAfter = (\n  text: string | undefined,\n  stopArrayOrString: string[] | string = []\n): [string | undefined, boolean] => {\n  if (!text) {\n    return [undefined, false];\n  }\n  const stop = Array.isArray(stopArrayOrString)\n    ? stopArrayOrString\n    : [stopArrayOrString];\n  if (stop.length === 0) {\n    return [text, false];\n  }\n  const escapedStops = stop.map(escapeRegExp);\n  const regex = new RegExp(`(.*?)(${escapedStops.join(\"|\")})`, \"ms\");\n  const match = text.match(regex);\n  if (match && match.length === 3) {\n    return [match[1] + match[2], true];\n  }\n  return [text, false];\n};\n"]}